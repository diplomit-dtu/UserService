<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<script src="https://code.jquery.com/jquery-3.1.1.js"></script>
	<script src="jquery.serialize-object.min.js"></script>
	<script>
	function deleteUser(){
		event.preventDefault();
		var deleteId = $("#deleteid").val();
		console.log(deleteId);
		deleteUserById(deleteId);
	}
	function deleteUserById(deleteId) {
		var dto =  { id: deleteId };
		var json = JSON.stringify(dto);
		$.ajax({
			method: "DELETE",
			url: "rest2/users",
			data: json,
			contentType: "application/json",
			success: function(response) { 
				if (response === "true") {
					console.log("Success deleting user");
				} else {
					console.log("User does not exist");
				}
			},
			error: function() {
				console.log("Error deleting user");
			}
		});
	}
</script>
</head>
<body>
	<div>
		<h1>Slet bruger</h1>
		<form>
		Slet bruger med id:
		<input type="number" id="deleteid">
		<button onclick="deleteUser();">Slet bruger</button>
		</form>
	</div>
	
	<br>
	<form action="index.html" method="post" >
			<input type="submit" value="Retur til index.html">
	</form> <br>
	
</body>
</html>